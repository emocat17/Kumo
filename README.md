# Kumo - Python ä»»åŠ¡è°ƒåº¦ä¸ç®¡ç†å¹³å°

Kumo æ˜¯ä¸€ä¸ªåŸºäº Web çš„ç°ä»£åŒ– Python ä»»åŠ¡è°ƒåº¦ä¸ç¯å¢ƒç®¡ç†å¹³å°ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡å‹å¥½çš„å›¾å½¢ç•Œé¢ç®¡ç† Python ç‰ˆæœ¬ã€è™šæ‹Ÿç¯å¢ƒã€é¡¹ç›®æ–‡ä»¶ä»¥åŠè‡ªåŠ¨åŒ–ä»»åŠ¡è°ƒåº¦ã€‚

## ğŸŒŸ ä¸»è¦åŠŸèƒ½

### 1. ä»ªè¡¨ç›˜ (Dashboard)
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶ç›‘æ§æœåŠ¡å™¨ CPUã€å†…å­˜ã€ç£ç›˜å’Œç½‘ç»œä½¿ç”¨æƒ…å†µã€‚
- **æ¦‚è§ˆ**: å¿«é€ŸæŸ¥çœ‹ Python ç¯å¢ƒæ•°é‡ã€é¡¹ç›®æ•°é‡å’Œç³»ç»Ÿè¿è¡Œæ—¶é—´ã€‚

### 2. Python ç¯å¢ƒç®¡ç†
- **ç‰ˆæœ¬ç®¡ç†**: æŸ¥çœ‹å’Œç®¡ç†å·²å®‰è£…çš„ Python ç‰ˆæœ¬ã€‚
- **ç¯å¢ƒéš”ç¦»**: åˆ›å»ºå’Œç®¡ç†è™šæ‹Ÿç¯å¢ƒï¼ˆVirtualenv / Condaï¼‰ã€‚
- **åŒ…ç®¡ç†**: åœ¨æŒ‡å®šç¯å¢ƒä¸­æœç´¢ã€å®‰è£…å’Œå¸è½½ Python ä¾èµ–åŒ…ã€‚
- **ä¾èµ–å¯¼å…¥**: æ”¯æŒé€šè¿‡ `requirements.txt` æ‰¹é‡å®‰è£…ä¾èµ–ã€‚

### 3. é¡¹ç›®ç®¡ç†
- **å·¥ä½œåŒº**: ä»¥é¡¹ç›®ä¸ºå•ä½éš”ç¦»ä»£ç å’Œèµ„æºã€‚
- **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒé€šè¿‡ ZIP åŒ…ä¸Šä¼ é¡¹ç›®ä»£ç ã€‚
- **åœ¨çº¿é…ç½®**: åœ¨çº¿ä¿®æ”¹é¡¹ç›®åç§°ã€æè¿°å’Œå·¥ä½œè·¯å¾„ã€‚
- **æ–‡ä»¶æµè§ˆ**: åœ¨çº¿æŸ¥çœ‹é¡¹ç›®å†…çš„æ–‡ä»¶ç»“æ„å’Œæ–‡ä»¶å†…å®¹ã€‚

### 4. ä»»åŠ¡è°ƒåº¦ (Task Scheduling)
- **å¤šç§è§¦å‘å™¨**: æ”¯æŒ Cron è¡¨è¾¾å¼ã€æ—¶é—´é—´éš” (Interval) å’Œç‰¹å®šæ—¥æœŸ (Date) è§¦å‘ã€‚
- **ç¯å¢ƒç»‘å®š**: æŒ‡å®šä»»åŠ¡è¿è¡Œæ‰€éœ€çš„ Python ç¯å¢ƒå’Œé¡¹ç›®ä¸Šä¸‹æ–‡ã€‚
- **ä»»åŠ¡æ§åˆ¶**: éšæ—¶æš‚åœã€æ¢å¤ã€ç«‹å³æ‰§è¡Œæˆ–åœæ­¢ä»»åŠ¡ã€‚
- **æ—¥å¿—ä¸å†å²**: æŸ¥çœ‹ä»»åŠ¡çš„å†å²è¿è¡Œè®°å½•å’Œå®æ—¶æ‰§è¡Œæ—¥å¿—ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: Vue 3, TypeScript, Vite, Pinia, Lucide Icons
- **åç«¯**: Python, FastAPI, SQLite, SQLAlchemy, APScheduler

---

## ğŸš€ å¼€å‘ç¯å¢ƒéƒ¨ç½²

### å‰ç½®è¦æ±‚
- Node.js (v16+)
- Python (v3.8+)

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backed

# 1. åˆ›å»ºå¹¶æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (å¯é€‰ä½†æ¨è)
python -m venv venv
# Windows:
.\venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨æœåŠ¡
python main.py
```
*åç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:8000`*
![1765979050486](image/README/1765979050486.png)
### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd front

# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```
*å‰ç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:6677`*

---

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. æ„å»ºå‰ç«¯èµ„æº

```bash
cd front
npm run build
```
æ„å»ºå®Œæˆåï¼Œç”Ÿæˆçš„é™æ€æ–‡ä»¶ä½äº `front/dist` ç›®å½•ã€‚

### 2. éƒ¨ç½²å»ºè®®

å»ºè®®ä½¿ç”¨ **Nginx** ä½œä¸ºåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒåŒæ—¶æ‰˜ç®¡å‰ç«¯é™æ€æ–‡ä»¶å’Œè½¬å‘åç«¯ API è¯·æ±‚ã€‚

**Nginx é…ç½®ç¤ºä¾‹:**

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/kumo/front/dist;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯ API è½¬å‘
    location /api {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### 3. åç«¯ç”Ÿäº§è¿è¡Œ

å»ºè®®ä½¿ç”¨ `gunicorn` (Linux) æˆ–ä¿æŒ `python main.py` (ä»…é™ç®€å•åœºæ™¯) é…åˆè¿›ç¨‹å®ˆæŠ¤å·¥å…· (å¦‚ Supervisor æˆ– Systemd) è¿è¡Œåç«¯æœåŠ¡ã€‚

```bash
cd backed
# ç¤ºä¾‹ï¼šç›´æ¥è¿è¡Œ
python main.py
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
Kumo/
â”œâ”€â”€ backed/                         # åç«¯ä»£ç  (FastAPI)
â”‚   â”œâ”€â”€ app/                        # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â””â”€â”€ database.py             # æ•°æ®åº“è¿æ¥é…ç½®
â”‚   â”œâ”€â”€ appEnv/                     # Python ç¯å¢ƒç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ env_router.py           # ç¯å¢ƒ API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ python_version_router.py # Python ç‰ˆæœ¬ API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models.py               # æ•°æ®åº“æ¨¡å‹ (Environment, Package)
â”‚   â”‚   â””â”€â”€ schemas.py              # Pydantic æ•°æ®éªŒè¯æ¨¡å‹
â”‚   â”œâ”€â”€ appProject/                 # é¡¹ç›®ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ project_router.py       # é¡¹ç›® API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models.py               # æ•°æ®åº“æ¨¡å‹ (Project)
â”‚   â”‚   â””â”€â”€ schemas.py              # Pydantic æ•°æ®éªŒè¯æ¨¡å‹
â”‚   â”œâ”€â”€ appTask/                    # ä»»åŠ¡è°ƒåº¦æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ task_manager.py         # APScheduler è°ƒåº¦ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ task_router.py          # ä»»åŠ¡ API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models.py               # æ•°æ®åº“æ¨¡å‹ (Task, TaskExecution)
â”‚   â”‚   â””â”€â”€ schemas.py              # Pydantic æ•°æ®éªŒè¯æ¨¡å‹
â”‚   â”œâ”€â”€ appSystem/                  # ç³»ç»Ÿç›‘æ§æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ system_router.py        # ç³»ç»Ÿä¿¡æ¯ API è·¯ç”±
â”‚   â”‚   â””â”€â”€ fs_router.py            # æ–‡ä»¶ç³»ç»Ÿ API è·¯ç”±
â”‚   â”œâ”€â”€ projects/                   # ç”¨æˆ·ä¸Šä¼ çš„é¡¹ç›®æ–‡ä»¶å­˜å‚¨ç›®å½• (è¿è¡Œæ—¶ç”Ÿæˆ)
â”‚   â”œâ”€â”€ main.py                     # åç«¯åº”ç”¨å…¥å£
â”‚   â””â”€â”€ requirements.txt            # Python ä¾èµ–åˆ—è¡¨
â”‚
â”œâ”€â”€ front/                          # å‰ç«¯ä»£ç  (Vue 3 + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ assets/                 # é™æ€èµ„æº (å›¾ç‰‡ç­‰)
â”‚   â”‚   â”œâ”€â”€ components/             # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/             # é€šç”¨ UI ç»„ä»¶ (Modal, Header ç­‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ project/            # é¡¹ç›®ç›¸å…³ç»„ä»¶ (FileTree, Editor ç­‰)
â”‚   â”‚   â”‚   â””â”€â”€ task/               # ä»»åŠ¡ç›¸å…³ç»„ä»¶ (History, Log ç­‰)
â”‚   â”‚   â”œâ”€â”€ layout/                 # é¡µé¢å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/                  # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ project/            # é¡¹ç›®ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ python/             # Python ç¯å¢ƒé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ task/               # ä»»åŠ¡ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Dashboard.vue       # ä»ªè¡¨ç›˜é¡µé¢
â”‚   â”‚   â”œâ”€â”€ router/                 # Vue Router è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/                 # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ styles/                 # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ App.vue                 # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.ts                 # å‰ç«¯å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json                # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.ts              # Vite é…ç½®æ–‡ä»¶
â”‚
â””â”€â”€ README.md                       # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```
