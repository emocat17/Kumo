# 前端页面开发结构说明

根据最新的需求与分析，整理出以下精简并细化的前端页面树形结构与开发说明。

## 目录结构树

```
/ (Dashboard)
├── 仪表盘 (Dashboard)
│   ├── 系统概览 (Overview) - 默认Tab
│   ├── 性能指标 (Performance)
│   ├── 任务统计 (Task Statistics)
│   ├── 工作节点 (Worker Nodes)
│   └── 指标图表 (Metrics Charts)
│
├── 定时任务 (Scheduled Tasks)
│   ├── 任务列表 (List)
│   └── 新建任务弹窗 (Create Modal)
│
├── 项目 (Projects)
│   ├── 项目列表 (List)
│   └── 新建项目弹窗 (Create Modal)
│
├── Python环境 (Python Environments)
│   ├── 环境列表 (List)
│   ├── 新建环境弹窗 (Create Modal)
│   └── 镜像源管理弹窗 (Mirrors Modal)
│
├── Python版本 (Python Versions)
│   ├── 添加版本 (Add Version)
│   └── 版本列表 (List)
│
├── 用户管理 (User Management)
│   ├── 用户列表 (List)
│   └── 添加用户弹窗 (Add Modal)
│
├── 分布式节点 (Distributed Nodes)
│   ├── 节点列表 (List)
│   ├── 添加节点弹窗 (Add Modal)
│   └── 定时检查管理弹窗 (Check Modal)
│
├── 日志管理 (Log Management)
│   ├── 日志操作 (Operations)
│   └── 定时清理弹窗 (Cleanup Modal)
│
└── 设置 (Settings)
    ├── 用户设置 (User Settings)
    └── 环境变量 (Environment Variables)
```

## 页面详细开发规范

### 1. 仪表盘 (Dashboard)
*   **路径**: `/`
*   **头部**: 页面标题 "监控面板" + 副标题 + (禁用刷新/刷新频率下拉/刷新按钮)
*   **核心区域**:
    *   **Tab导航**: 系统概览 | 性能指标 | 任务统计 | 工作节点 | 指标图表
    *   **系统概览 Tab**:
        *   **统计卡片行**: 总任务数(蓝) | 活跃任务(绿) | 环境数(紫) | 项目数(橙)
        *   **详情网格 (2列布局)**:
            *   **工作节点**: 显示 连接数/总数 (如 0/0) + 状态文本
            *   **系统运行时间**: 显示 天/小时
            *   **24小时统计**: 执行次数 | 成功数 | 成功率(%)
            *   **系统信息**: ID | 平台(OS信息) | 架构(64bit) | Python版本

### 2. 定时任务 (Tasks)
*   **路径**: `/tasks`
*   **头部操作区**:
    *   **左侧**: 标题 "定时任务"
    *   **右侧**: 刷新按钮 | "新建任务"按钮 (Primary)
*   **筛选工具栏**:
    *   **搜索框**: "按名称、描述或命令搜索任务..."
    *   **下拉筛选组**:
        *   节点 (本地节点/...)
        *   状态 (所有状态/运行中/暂停/...)
        *   项目 (所有项目/...)
        *   环境 (所有环境/...)
        *   标签 (所有标签/...)
    *   **快捷筛选**: "显示正在运行的任务" 按钮
*   **内容区**:
    *   **空状态**: 标题 "未找到任务" + 引导文案 + 插图
    *   **列表态** (需实现): 任务卡片/表格，展示 名称、Cron表达式、下次运行时间、状态开关、操作菜单
*   **新建任务弹窗**:
    *   **触发**: 点击“新建任务”按钮
    *   **表单字段**:
        *   **任务名称**: 必填文本框
        *   **命令**: 必填文本框，默认 placeholder "python script.py"
        *   **描述**: 多行文本框
        *   **工作节点**: 下拉选择 (自动选择/指定节点)
        *   **项目**: 下拉选择 (依赖节点选择)
        *   **Python环境**: 下拉选择 (依赖节点选择)
        *   **调度类型**: 下拉选择 (间隔/Cron/日期)
            *   *间隔 (Interval)*: 间隔数值 + 单位(秒/分/时/天/周) + 起始时间(可选)
            *   *Cron*: Cron表达式输入框
            *   *日期 (Date)*: 具体执行时间选择器
        *   **并发实例**: 复选框 "增加并发实例"
    *   **底部操作**: 取消按钮 | "创建任务"按钮 (Primary)

### 3. 项目 (Projects)
*   **路径**: `/projects`
*   **头部操作区**: 标题 "项目" | "新项目"按钮
*   **筛选工具栏**:
    *   **搜索框**: "按名称或描述搜索项目..."
    *   **下拉筛选**: 所有标签 | 所有节点
*   **内容区**:
    *   **空状态**: "未找到项目" + "创建你的第一个项目..."
    *   **列表态**: 项目卡片，展示 名称、描述、包含任务数、创建时间
*   **新项目弹窗**:
    *   **触发**: 点击“新项目”按钮
    *   **表单字段**:
        *   **项目名称**: 必填文本框
        *   **工作路径**: 必填文本框，默认 "/"，附带提示 "建议为ZIP文件的文件名..."
        *   **描述**: 多行文本框
        *   **标签**: 文本框 + "添加"按钮
        *   **目标节点**: 下拉选择 (可选)
        *   **协同用户**: "添加协同用户" 按钮 + 说明文本
        *   **项目来源**: 必填单选按钮组 (ZIP上传 / Git仓库)
            *   *ZIP上传*: 拖拽上传区域 / 点击上传
    *   **底部操作**: 取消 | 保存

### 4. Python环境 (Environments)
*   **路径**: `/python-environments`
*   **头部操作区**: 标题 "Python环境" | 刷新 | "镜像源"设置 | "新建环境"按钮
*   **筛选工具栏**:
    *   **搜索框**: "按名称或依赖项搜索环境..."
    *   **下拉筛选**: 所有状态 | 所有节点
*   **内容区**:
    *   **空状态**: "未找到环境" + 引导文案
    *   **列表态**: 环境卡片，展示 环境名、Python版本、依赖列表预览、状态标记
*   **新建环境弹窗**:
    *   **触发**: 点击“新建环境”按钮
    *   **表单字段**:
        *   **环境名称**: 必填文本框
        *   **Python版本**: 下拉选择 (如 3.9.21)
        *   **目标节点**: 下拉选择 (可选)
        *   **协同用户**: "添加协同用户" 按钮
        *   **依赖项**: 多行文本框 (输入 requirements 内容)
        *   **上传**: "上传 requirements.txt" 按钮
    *   **底部操作**: 取消 | 创建环境
*   **镜像源管理弹窗**:
    *   **触发**: 点击“镜像源”按钮
    *   **添加区域**: 源名称 | 源地址 | 描述 | "添加"按钮
    *   **源列表**: 展示预置源 (PyPI, 清华, 阿里云, 中科大, 华为云, 腾讯云)
        *   每行包含: 名称 | 地址 | 描述 | "设为默认"按钮
    *   **底部操作**: 取消 | 保存

### 5. Python版本 (Versions)
*   **路径**: `/python-versions`
*   **布局**: 左右分栏或上下分块
*   **添加区域**:
    *   标题 "添加新Python版本"
    *   **表单**:
        *   版本号输入 (如 3.11.2)
        *   下载地址输入 (自动生成/手动填写)
        *   "添加Python版本"按钮 (带禁用态)
    *   **提示**: 包含官网下载链接指引
*   **列表区域**:
    *   标题 "可用Python版本"
    *   **表格**: 版本号 | 状态(就绪/下载中) | 默认(是/否) | 操作(删除，默认版本不可删)

### 6. 用户管理 (Users)
*   **路径**: `/users`
*   **头部**: 标题 "用户管理" + 描述文本
*   **列表区域**:
    *   **头部**: "用户列表" 标题 | "添加用户"按钮
    *   **表格列**: 用户名 | 姓名 | 角色 | 允许访问的页面 | 操作
    *   **示例数据**: admin | Administrator | 管理员 | 所有页面 | [编辑]按钮
*   **添加用户弹窗**:
    *   **触发**: 点击“添加用户”按钮
    *   **表单字段**:
        *   **用户名**: 必填
        *   **密码**: 必填
        *   **姓名**: 必填
        *   **角色**: 下拉选择 (普通用户/管理员)
        *   **权限设置** (仅普通用户可见): 复选框组 (仪表盘/任务管理/Python环境/Python版本/项目管理/分布式节点/日志管理/系统设置/用户管理)
    *   **底部操作**: 保存

### 7. 分布式节点 (Nodes)
*   **路径**: `/distribution`
*   **头部**: 标题 "分布式节点" | "定时检查管理"按钮 | "添加节点"按钮
*   **统计仪表条**:
    *   总节点数 | 已连接 | 连接中 | 断开连接 | 错误 (各带计数)
*   **筛选栏**: 搜索节点名称 | 状态筛选下拉
*   **内容区**: 空状态或节点卡片网格
*   **添加节点弹窗**:
    *   **触发**: 点击“添加节点”按钮
    *   **表单字段**:
        *   **节点IP**: 必填
        *   **节点端口**: 数字输入 (默认 8001)
        *   **节点名称**: 文本框
        *   **节点描述**: 多行文本框
    *   **底部操作**: 取消 | 激活节点 (禁用态直到填完必填项)
*   **定时检查管理弹窗**:
    *   **触发**: 点击“定时检查管理”按钮
    *   **当前状态**: "刷新状态"按钮 | 运行状态显示 (已停止/运行中)
    *   **配置设置**:
        *   **检查间隔**: 数字输入 + 单位下拉 (秒/分/小时)
        *   **指定节点**: 下拉选择 (默认 "检查所有节点")
    *   **底部操作**: 启动/停止按钮 | 关闭

### 8. 日志管理 (Logs)
*   **路径**: `/logs`
*   **头部**: 标题 "日志管理" + 功能说明文本
*   **控制栏**:
    *   **保留策略**: 下拉选择 (1/3/7/14/30 天)
    *   **操作按钮**: "清除所有日志" (危险操作需确认) | "定时清理"配置
*   **内容区**: 日志文件列表或 "未找到日志" 提示
*   **定时清理弹窗**:
    *   **触发**: 点击“定时清理”按钮
    *   **表单字段**:
        *   **清理间隔**: 下拉选择 (1/3/7/14/30 天)
        *   **保留天数**: 下拉选择 (7/14/30/60/90 天)
    *   **操作按钮**: 移除定时 | 设置定时 | 取消

### 9. 设置 (Settings)
*   **路径**: `/settings`
*   **布局**: 左侧垂直导航菜单 | 右侧内容区
*   **菜单项**: 用户设置 | 环境变量
*   **子页面 - 用户设置**:
    *   **表单**: 用户名 (只读) | 当前密码 | 新密码 | 确认新密码
    *   **操作**: "更新密码"按钮
*   **子页面 - 环境变量**:
    *   **说明区**: 提示变量存储在内存中，重启丢失
    *   **添加表单**: 变量名 | 变量值 | "添加变量"按钮
    *   **列表区**: 当前环境变量表格 (暂无数据时显示空状态)
    *   **使用指南**: 底部显示代码调用示例 (os.environ.get...)

## 开发建议
1.  **组件复用**: 
    *   **EmptyState**: 多个列表页共用空状态组件
    *   **PageHeader**: 统一的页面标题与操作栏布局
    *   **FilterBar**: 统一的筛选下拉框样式
    *   **SettingsLayout**: 设置页面的专用侧边栏布局
    *   **Modal**: 封装通用的弹窗组件，用于新建任务等操作
2.  **状态管理**: 使用 Pinia 管理全局的用户信息、侧边栏折叠状态。
